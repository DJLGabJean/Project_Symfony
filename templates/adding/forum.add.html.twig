{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="../../assets/dist/output.css">
{% endblock %}

{% block title %}Ajout d'un forum{% endblock %}

{% block body %}
<div class="flex items-center justify-center h-screen bg-white">
    <div class="w-full max-w-md p-8 space-y-4 bg-gray-100 rounded-lg shadow-2xl">
        <h2 class="text-3xl font-bold text-center">Ajout d'un forum</h2>

        {{ form_start(forumForm) }}
            {{ form_row(forumForm.name) }}

            <div id="videogame-container">
                {{ form_row(forumForm.videogame) }}
                <button type="button" id="add-videogame-button">Ajouter un jeu vidéo</button>
            </div>

            <div id="tags-container">
                {{ form_row(forumForm.tags) }}
                <button type="button" id="add-tag-button">Ajouter un tag</button>
            </div>

            {{ form_row(forumForm.settings) }}
            
            <button type="submit">Soumettre</button>
        {{ form_end(forumForm) }}

    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const tagsContainer = document.getElementById('tags-container');
        const addTagButton = document.getElementById('add-tag-button');
        let tagAdded = false;

        addTagButton.addEventListener('click', function() {
            if (!tagAdded) {
                // Créer un nouvel input pour le tag et l'ajouter au conteneur
                const newTagInput = document.createElement('input');
                newTagInput.setAttribute('type', 'text');
                newTagInput.setAttribute('name', 'forumForm[tags][]');
                tagsContainer.appendChild(newTagInput);
                tagAdded = true;
            }
        });

        const videogameContainer = document.getElementById('videogame-container');
        const addVideogameButton = document.getElementById('add-videogame-button');
        let videogameAdded = false;

        addVideogameButton.addEventListener('click', function() {
            if (!videogameAdded) {
                // Créer un nouvel input pour le jeu vidéo et l'ajouter au conteneur
                const newVideogameInput = document.createElement('input');
                newVideogameInput.setAttribute('type', 'text');
                newVideogameInput.setAttribute('name', 'forumForm[videogame]');
                videogameContainer.appendChild(newVideogameInput);
                videogameAdded = true;
            }
        });
    });
</script>
{% endblock %}



